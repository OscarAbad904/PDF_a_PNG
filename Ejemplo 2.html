<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test sobre la computadora</title>
  <style>
    body {
      background: url('fondo.png') no-repeat center center fixed;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      font-family: 'Comic Sans MS', cursive;
      color: #333;
      margin: 0;
      padding-bottom: 60px;
    }
    header, footer {
      background-color: rgba(0,0,0,0.7);
      color: #FCF3CF;
      text-align: center;
      padding: 1rem;
    }
    main {
      width: 90%;
      max-width: 700px;
      margin: 1rem auto;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 1.5rem;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }
    h1 {
      margin: 0 0 1rem 0;
      font-size: 2.5rem;
      text-shadow: 2px 2px 3px rgba(0,0,0,0.3);
    }
    p {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }    
    .question-container {
      margin-bottom: 1rem;
      background: #FFF3E0;
      padding: 1rem;
      border-radius: 15px;  
      border: 3px dashed #F5B041;
    }
    .question {
      font-weight: bold;
      margin-bottom: 0.5rem;
      color: #2E7D32;
      font-size: 1.1rem;
    }
    .options label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 1rem;
      line-height: 1.4;
    }
    .reference {
      font-size: 0.9rem;
      color: #7B1FA2;
      margin-top: 0.8rem;
      font-style: italic;
    }
    button {
      margin-top: 2rem;
      background-color: #A1887F;
      color: white;
      padding: 1.2rem 2.5rem;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1.4rem;
      transition: transform 0.3s;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    button:hover {
      transform: scale(1.08);
      background-color: #795548;
    }
    .correct {
      color: #388E3C !important;
      font-weight: bold;
    }
    .incorrect {
      color: #D32F2F !important;
      font-weight: bold;
    }
    #result {
      margin-top: 2.5rem;
      font-size: 1.5rem;
      color: #0277BD;
      text-align: center;
    }
    input[type="radio"] {
      accent-color: #FF9800;
      transform: scale(1.2);
      margin-right: 8px;
    }
    footer {
      bottom: 0;
      width: 100%;
      padding: 1rem 0;
      z-index: 100;
    }    
  </style>
</head>
<body>
  <header>
    <h1>Test sobre la computadora</h1>
  </header>

  <main>
    <p>
      Â¡Hola! Responde estas preguntas sobre la computadora. 
      Al final, pulsa <strong>"Evaluar"</strong> para ver tus resultados. Â¡TÃº puedes! ðŸŒŸ
    </p>

    <div id="quizContainer"></div>
    
    <button onclick="calificar()">Evaluar</button>
    <div id="result"></div>
  </main>

  <footer>
    <p>Â¡Sigue aprendiendo! ðŸ’»âœ¨</p>
  </footer>

  <script>
    const questions = [
      {question: "Â¿QuÃ© son las computadoras?", options: ["MÃ¡quinas de escribir avanzadas", "MÃ¡quinas electrÃ³nicas modernas", "Herramientas de carpinterÃ­a", "Instrumentos musicales"], answer: "MÃ¡quinas electrÃ³nicas modernas", reference: "PÃ¡gina 1"},
      {question: "Â¿Para quÃ© podemos utilizar las computadoras?", options: ["Para hacer ejercicio", "Para escribir, hacer cÃ¡lculos, dibujar y mÃ¡s", "Para cocinar", "Para viajar"], answer: "Para escribir, hacer cÃ¡lculos, dibujar y mÃ¡s", reference: "PÃ¡gina 1"},
      {question: "Â¿En quÃ© lugares podemos encontrar computadoras?", options: ["Solo en casa", "En comercios, bancos, oficinas, colegios, etc.", "Solo en oficinas", "Solo en colegios"], answer: "En comercios, bancos, oficinas, colegios, etc.", reference: "PÃ¡gina 1"},
      {question: "Â¿QuÃ© podemos guardar en la computadora?", options: ["Solo ropa", "Solo comida", "Textos, imÃ¡genes, mÃºsica, videos, juegos, etc.", "Solo herramientas"], answer: "Textos, imÃ¡genes, mÃºsica, videos, juegos, etc.", reference: "PÃ¡gina 1"},
      {question: "Â¿CÃ³mo debemos cuidar las computadoras?", options: ["No importa, son indestructibles", "Evitando el polvo, lÃ­quidos y golpes", "RegÃ¡ndolas con agua", "DejÃ¡ndolas al sol"], answer: "Evitando el polvo, lÃ­quidos y golpes", reference: "PÃ¡gina 3"},
      {question: "Durante la clase de cÃ³mputo, Â¿quÃ© se debe hacer?", options: ["Correr y jugar", "Mantener el orden y la disciplina", "Comer y beber", "Hablar en voz alta"], answer: "Mantener el orden y la disciplina", reference: "PÃ¡gina 3"},
      {question: "Â¿QuÃ© partes tiene una computadora?", options: ["Ruedas, asiento y manubrio", "Monitor, CPU, mouse y teclado", "Agujas, hilo y tela", "Cuchara, tenedor y cuchillo"], answer: "Monitor, CPU, mouse y teclado", reference: "PÃ¡gina 5"},
      {question: "Â¿QuÃ© es el teclado?", options: ["Un instrumento musical", "Parte de la computadora para escribir nÃºmeros y letras", "Una herramienta para dibujar", "Un tipo de mouse"], answer: "Parte de la computadora para escribir nÃºmeros y letras", reference: "PÃ¡gina 7"},
      {question: "Â¿Para quÃ© sirve el mouse?", options: ["Para escribir", "Para hacer clic y seleccionar", "Para hablar", "Para escuchar mÃºsica"], answer: "Para hacer clic y seleccionar", reference: "PÃ¡gina 9"},
      {question: "Â¿QuÃ© es el monitor?", options: ["Una parte de la computadora para ver informaciÃ³n", "Un tipo de teclado", "Un lugar para guardar cosas", "Un juego de computadora"], answer: "Una parte de la computadora para ver informaciÃ³n", reference: "PÃ¡gina 11"}
    ];

    function createQuiz() {
      const quizContainer = document.getElementById("quizContainer");
      questions.forEach((q, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.className = "question-container";
        const questionP = document.createElement("p");
        questionP.className = "question";
        questionP.textContent = (index + 1) + ". " + q.question;
        questionDiv.appendChild(questionP);

        const optionsDiv = document.createElement("div");
        optionsDiv.className = "options";
        q.options.forEach(opt => {
          const label = document.createElement("label");
          const radio = document.createElement("input");
          radio.type = "radio";
          radio.name = "q" + (index + 1);
          radio.value = opt;
          radio.onclick = () => {
            questionDiv.style.border = "4px solid #4CAF50";
          };
          label.appendChild(radio);
          label.appendChild(document.createTextNode(opt));
          optionsDiv.appendChild(label);
        });
        questionDiv.appendChild(optionsDiv);

        // AÃ±adir la referencia
        const referenceP = document.createElement("p");
        referenceP.className = "reference";
        referenceP.textContent = "Referencia: " + q.reference;
        questionDiv.appendChild(referenceP);

        quizContainer.appendChild(questionDiv);
      });
    }

    function calificar() {
      let correctas = 0;
      const resultados = document.querySelectorAll(".question-container");

      // Primero, eliminar todas las clases de estilo previas
      document.querySelectorAll("label").forEach(label => {
        label.classList.remove("correct", "incorrect");
      });

      resultados.forEach((div, index) => {
        const selected = div.querySelector("input:checked");

        if (selected) {
          const correctAnswer = questions[index].answer;

          // Si la respuesta es correcta, la marca en verde
          if (selected.value === correctAnswer) {
            correctas++;
            div.querySelectorAll("label").forEach(label => {
              if (label.textContent.trim() === correctAnswer) {
                label.classList.add("correct");
              }
            });
          } 
          // Si la respuesta es incorrecta, la marca en rojo y resalta la correcta
          else {
            selected.parentElement.classList.add("incorrect");
            div.querySelectorAll("label").forEach(label => {
              if (label.textContent.trim() === correctAnswer) {
                label.classList.add("correct");
              }
            });
          }
        }
      });

      // Mensaje final basado en el nÃºmero de respuestas correctas
      let resultText = "";
      if (correctas < 5) {
        resultText = `Bueno, seguro que puedes hacerlo mucho mejor. 
                      Â¡Has acertado ${correctas} de ${questions.length} preguntas! 
                      Sigue practicando!!!`;
      } else {
        resultText = `Â¡Genial! ðŸŽ‰ Has acertado ${correctas} de ${questions.length} preguntas 
                      sobre la computadora. Â¡Eres un/a experto/a! ðŸ˜Š`;
      }

      document.getElementById("result").innerText = resultText;
    }

    createQuiz();
  </script>
</body>
</html>